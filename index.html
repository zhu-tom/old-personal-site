<!DOCTYPE html>
<html>
    <head>
        <title>Tom Zhu</title>
        <link rel="apple-touch-icon" sizes="180x180" href="./resources/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="./resources/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="./resources/favicon/favicon-16x16.png">
        <link rel="manifest" href="./resources/favicon/site.webmanifest">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css" integrity="sha256-2XFplPlrFClt0bIdPgpz8H7ojnk10H69xRqd9+uTShA=" crossorigin="anonymous" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/js/all.min.js" integrity="sha256-HkXXtFRaflZ7gjmpjGQBENGnq8NIno4SDNq/3DbkMgo=" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <link rel="stylesheet" href="styles.css" type="text/css">
    </head>
    <body class="bg-dark">
        <button id="resume" type="button" style="left: auto;" class="btn mt-3 mr-3 fixed-top btn-outline-success">Resume</button>
        <div id="masthead">
            <div class="jumbotron d-flex align-items-center justify-content-center">
                <p class="text-center align-middle display-1 hero">Hi, I'm Tom.</p>
            </div>
            <nav class="navbar navbar-expand-lg navbar-dark justify-content-center">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
                    <ul class="navbar-nav w-75 justify-content-around" id="topNav">
                        <li class="nav-item active">
                            <a class="nav-link" href="#about">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#projects">Projects</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#experience">Experience</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#contact">Contact</a>
                        </li>
                    </ul>
                </div>
            </nav>
            <div style="text-align: center;" class="mt-5">
                <a style="color: inherit;" href="#about" data-click="scroll">
                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>
                </a>
            </div>
        </div>
        <div id="content" class="row justify-content-start">
            <div class="col-1">
                <nav id="fullNav" class="navbar nav-hidden sticky-top navbar-dark flex-column align-items-start mt-1 ml-1">
                    <button class="toggler" id="sideToggler">
                        <span class="hamburger"></span>
                    </button>
                    <div id="sidebar">
                        <ul id="sideNav" class="navbar-nav flex-column sideNav-hidden">
                            <li class="nav-item">
                                <a class="nav-link" href="#about">About</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#projects">Projects</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#experience">Experience</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#contact">Contact</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
            <div id="sections" class="col-10">
                <div id="about" class="hidden d-flex flex-column align-items-center align-items-center">
                    <h1 class="divider divider-hidden mb-5">About Me</h1>
                    <div class="d-flex justify-content-start align-items-center mb-4">
                        <i class="fa fa-lg fa-graduation-cap mr-3" aria-hidden="true"></i>
                        <div class="h4 font-weight-light mb-0">Second-year Computer Science student at Carleton University</div>
                    </div>
                    <div class="d-flex justify-content-end align-items-center mb-4">
                        <i class="fas fa-code fa-lg mr-3"></i>
                        <div class="h4 font-weight-light mb-0">Web and iOS/Android developer</div>
                    </div>
                    <div class="d-flex justify-content-start align-items-center mb-4">
                        <i class="fa fa-lg fa-volleyball-ball mr-3" aria-hidden="true"></i>
                        <div class="h4 font-weight-light mb-0">(Volley/Basket)Baller</div>
                    </div>
                    <div class="d-flex justify-content-end align-items-center mb-4">
                        <i class="fa fa-guitar fa-lg mr-3"></i>
                        <div class="h4 font-weight-light mb-0">Guitarist</div>
                    </div>
                    <img class="mb-4" src="resources/images/avatar.png" height="256px" min-width="256px">

                    <p class="lead text-center w-75">
                        I'm a web and mobile developer currently in second-year Computer Science at Carleton University.
                        I was born and raised in Ottawa, and I've been playing sports for as long as I can remember. 
                        I like building my own full-stack projects and learning new technology and frameworks. 
                        I'm a huge fan of basketball and volleyball, and I love playing the guitar and watching movies. 
                        Check out my work down below!
                    </p>
                </div>
                <div id="projects" class="hidden d-flex flex-column align-items-center">
                    <h1 class="divider divider-hidden mb-5">Projects</h1>
                    <div class="card-deck">
                        <div class="card bg-dark shadow-lg">
                            <a class="preview-img" href="https://carleton-timetable-generator.herokuapp.com/" target="_blank">
                                <img src="./resources/images/Screen Shot 2020-06-08 at 10.37.53 PM.png" class="card-img-top" alt="...">
                                <div class="middle">
                                    <div class="lead">Visit Site</div>
                                </div>
                            </a>
                            <div class="card-body">
                                <h5 class="card-title">Carleton Timetable Generator</h5>
                                <p class="card-text font-weight-light">This tool generates all possible timetables given course codes and optional filters such as days off and class times.</p>
                                <div class="btn-group" role="group">
                                    <a href="https://carleton-timetable-generator.herokuapp.com/" target="_blank" class="btn btn-outline-primary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg></a>
                                    <a href="https://github.com/zhu-tom/Course-Registration/" target="_blank" class="btn btn-outline-primary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a>
                                </div>
                            </div>
                            <div class="card-footer">
                                <small class="text-muted">Python, JavaScript, JQuery, HTML, CSS</small>
                            </div>
                        </div>
                        <div class="card bg-dark shadow-lg">
                            <a class="preview-img" href="https://fast-food-haven.herokuapp.com/" target="_blank">
                                <img src="./resources/images/Screen Shot 2020-06-09 at 12.11.44 AM.png" class="card-img-top" alt="...">
                                <div class="middle">
                                    <div class="lead">Visit Site</div>
                                </div>
                            </a>
                            <div class="card-body">
                                <h5 class="card-title">Fast Food Haven</h5>
                                <p class="card-text font-weight-light">This web app scrapes coupon sites to find fast food deals. Makes it easy to search, filter, redeem, and find locations near you.</p>
                                <p class="card-text">
                                    <a href="https://devpost.com/software/fast-food-haven" class="badge badge-warning">Winner at cuHacking 2020</a>
                                </p>
                                <div class="btn-group" role="group">
                                    <a href="https://fast-food-haven.herokuapp.com/" target="_blank" class="btn btn-outline-primary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg></a>
                                    <a href="https://github.com/zhu-tom/Fast-Food-Haven/" target="_blank" class="btn btn-outline-primary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a>
                                </div>
                            </div>
                            <div class="card-footer">
                                <small class="text-muted">Python, JavaScript, JQuery, HTML, CSS</small>
                            </div>
                        </div>
                        <div class="card bg-dark shadow-lg">
                            <a class="preview-img" href="https://zhutom.com/Game-of-Life" target="_blank">
                                <img src="./resources/images/Screen Shot 2020-06-09 at 2.11.30 AM.png" class="card-img-top" alt="...">
                                <div class="middle">
                                    <div class="lead">Visit Site</div>
                                </div>
                            </a>
                            <div class="card-body">
                                <h5 class="card-title">Game of Life</h5>
                                <p class="card-text">John Conway's "Game of Life" visualized using React.</p>
                                <div class="btn-group" role="group">
                                    <a href="https://zhutom.com/Game-of-Life" target="_blank" class="btn btn-outline-primary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg></a>
                                    <a href="https://github.com/zhu-tom/Game-of-Life/" target="_blank" class="btn btn-outline-primary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a>
                                </div>
                            </div>
                            <div class="card-footer">
                                <small class="text-muted">JavaScript, React, HTML, CSS</small>
                            </div>
                        </div>
                      </div>
                </div>
                <div id="experience" class="hidden d-flex flex-column align-items-center">
                    <h1 class="divider divider-hidden mb-5">Experience</h1>
                    <ul class="list-unstyled">
                        <li class="media hidden">
                            <img src="./resources/images/hgglogo.png" height="64px" width="64px" class="mr-3 rounded-circle" alt="...">
                            <div class="media-body">
                            <h5 class="mt-0 mb-1">Quality Assurance Analyst <em class="small font-weight-light">Hot Glue Games</em><small class="text-right float-right text-muted">Jul 2018 - Aug 2018</small></h5>
                            Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.
                            </div>
                        </li>
                        <li class="media hidden my-4">
                            <img src="./resources/images/sssclogo.jpg" height="64px" width="64px" class="mr-3 rounded-circle" alt="...">
                            <div class="media-body">
                            <h5 class="mt-0 mb-1">Peer Mentor <em class="small font-weight-light">Science Student Success Centre</em><small class="text-right float-right text-muted">June 2020 - Present</small></h5>
                            Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.
                            </div>
                        </li>
                    </ul>
                </div>
                <div id="contact" class="hidden d-flex flex-column align-items-center">
                    <h1 class="divider divider-hidden mb-5">Contact</h1>
                    <form id="contact-form" class="w-50">
                        <div class="form-row">
                            <div class="col form-group">
                                <label for="name">Name</label>
                                <input id="name" name="name" type="text" class="form-control">
                            </div>
                            <div class="col form-group">
                                <label for="email">Email</label>
                                <input id="email" name="email" type="text" class="form-control">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col form-group">
                                <label for="subject">Subject</label>
                                <input id="subject" name="subject" type="text" class="form-control">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col form-group">
                                <label for="message">Message</label>
                                <textarea id="message" name="message" class="form-control" rows="4"></textarea>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col d-flex justify-content-center">
                                <button id="submit" type="button" class="btn btn-secondary">
                                    Send
                                    <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
                                    <span class="sr-only">Loading...</span>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="fixed-bottom">

        </div>
    </body>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script>
        const animateLink = link => new Promise((resolve1) => {
                link.classList.add("hover");
                setTimeout(() => {
                    link.classList.remove("hover");
                    resolve1();
                }, 250);
        });

        function toggleSidebar() {
            const sidebar = document.querySelector("#sideNav");
            const toggler = document.querySelector("#sideToggler");
            sidebar.style.left = 0;
            if (sidebar.classList.contains("sideNav-hidden")) {
                sidebar.classList.add("sideNav-visible");
                toggler.classList.add("active");
                sidebar.classList.remove("sideNav-hidden");
            } else {
                sidebar.classList.add("sideNav-hidden");
                sidebar.classList.remove("sideNav-visible");
                toggler.classList.remove("active");
            }
        }

        document.addEventListener("DOMContentLoaded", () => {
            let topLinks = document.querySelectorAll("#topNav a");
            animateLink(topLinks[0])
            .then(() => animateLink(topLinks[1]))
            .then(() => animateLink(topLinks[2]))
            .then(() => animateLink(topLinks[3]));

            document.querySelector("#resume").addEventListener("click", () => {
                window.open("./resources/images/Resume.pdf", "_blank");
            });

            document.querySelector("#sideToggler").addEventListener("click", () => {                
                toggleSidebar();
            });

            document.querySelector("#submit").addEventListener("click", (event) => {
                event.preventDefault();

                const target = event.currentTarget;
                target.setAttribute("disabled", true);

                const form = document.querySelector("#contact-form");
                form.classList.add("loading");

                let data = {};
                const inputs = form.querySelectorAll(".form-control");
                inputs.forEach((val) => {
                    val.setAttribute("disabled", true);
                    data[val.getAttribute("name")] = val.value;
                });

                $.ajax({
                    url: "./mail.php",
                    type: "POST",
                    data: data,
                    success: (data, status, xhr) => {
                        console.log(data);
                        form.classList.remove("loading");
                        target.removeAttribute("disabled")
                        inputs.forEach((val) => {
                            val.removeAttribute("disabled");
                        });
                    }
                });
            });

            document.querySelectorAll(".form-control").forEach((val) => {
                val.addEventListener("focus", () => {
                    val.previousElementSibling.classList.add("focused");
                });
                val.addEventListener("focusout", () => {
                    if (!val.value) val.previousElementSibling.classList.remove("focused");
                });

                if (val.value) val.previousElementSibling.classList.add("focused");
            });

            let toEnterRight = [];
            let experienceList = document.querySelector("#experience").querySelectorAll("li");
            for (const li of experienceList) {
                toEnterRight.push({element: li, offsetTop: getOffsetTop(li)});
            }

            for (const el of document.querySelectorAll("[data-click='scroll']")) {
                const target = el.attributes.href.value;
                const location = getOffsetTop(document.querySelector(target));
                el.addEventListener("click", (e) => {
                    window.scrollTo({
                        top: location,
                        behavior: "smooth",
                    });
                });
            }

            let sections = [];

            let topNav = document.querySelector("#navbarNav");
            let topNavLimit = getOffsetTop(topNav) + topNav.offsetHeight;
            
            let dividers = [];
            let dividersQuery = document.querySelectorAll(".divider");
            for (const hr of dividersQuery) {
                dividers.push({element: hr, offsetTop: getOffsetTop(hr)});
            }

            let sideNav = document.querySelector("#sideNav");
            let fullSideNav = document.querySelector("#fullNav");

            let navChildrenSide = sideNav.children;
            let navChildrenTop = document.querySelector("#topNav").children;
        
            for (const el of document.querySelectorAll("#sections > div")) {
                sections.push({element: el, offsetTop: getOffsetTop(el)});
            }

            let isNavShown = toggleNavVisibility(fullSideNav, window.scrollY, topNavLimit, false);
            scrollSpy(navChildrenSide, navChildrenTop, sections, dividers, toEnterRight);

            fullSideNav.addEventListener("animationend", () => {
                if (!isNavShown) fullSideNav.style.visibility = "hidden";
            });
                        
            document.addEventListener("scroll", () => {
                isNavShown = toggleNavVisibility(fullSideNav, window.scrollY, topNavLimit, isNavShown);
                scrollSpy(navChildrenSide, navChildrenTop, sections, dividers, toEnterRight);
            });
        });

        function getOffsetTop(element) {
            let top = 0;

            while (element) {
                top += element.offsetTop || 0;
                element = element.offsetParent;
            }
            return top;
        }

        function scrollSpy(navChildrenSide, navChildrenTop, sections, dividers, toEnterRight) {
            let posY = window.scrollY + window.innerHeight;
            let wiggleRoom = window.innerHeight * 0.9;
            sections.forEach((obj, index, arr) => {
                if (posY > obj.offsetTop && obj.element.classList.contains("hidden")) {
                    obj.element.classList.remove("hidden");
                    obj.element.classList.add("section-shown");
                }

                if (posY > obj.offsetTop + wiggleRoom && (!sections[index+1] || posY < sections[index+1].offsetTop)) {
                    for (let i = 0; i < navChildrenTop.length; i++) {
                        navChildrenSide[i].classList.remove("active");
                        navChildrenTop[i].classList.remove("active");
                    }
                    navChildrenSide[index].classList.add("active");
                    navChildrenTop[index].classList.add("active");
                }
            });

            dividers.forEach((obj, index, arr) => {
                if (posY > obj.offsetTop && obj.element.classList.contains("divider-hidden")) {
                    obj.element.classList.remove("divider-hidden");
                    obj.element.classList.add("divider-expanded");
                }
            });

            toEnterRight.forEach((obj, index, arr) => {
                if (posY > obj.offsetTop && obj.element.classList.contains("hidden")) {
                    obj.element.classList.remove("hidden");
                    obj.element.classList.add("li-shown");
                }
            });
        }

        function toggleNavVisibility(nav, scrollPos, limit, prevIsNavShown) {
            if (scrollPos > limit && !prevIsNavShown) {
                nav.style.visibility = "visible";
                nav.classList.remove("nav-hidden");
                nav.classList.add("nav-shown");
                return true;
            } 
            else if (scrollPos < limit && prevIsNavShown) {
                nav.classList.remove("nav-shown");
                nav.classList.add("nav-hidden");
                const sidebar = document.querySelector("#sideNav");
                sidebar.classList.remove("sideNav-visible");
                sidebar.classList.add("sideNav-hidden");
                const toggler = document.querySelector("#sideToggler");
                sidebar.style.left = 0;
                toggler.classList.remove("active");
                return false;
            }
            return prevIsNavShown;
        }
    </script>
</html>